!function(a){a.fn.numberInput=function(e){function i(e){var i,c=a(e),s=a.meta?a.extend({},t,c.data()):t;i=s.main_cell?a(s.main_cell,c):c;var r=i.attr(s.max_attr),u=i.attr(s.min_attr),m=parseInt(i.val());if(l(c,i,r,u),n(c,i,m,r,u),s.minus_cell){var v=a(s.minus_cell,c);v.click(function(){var e=parseInt(i.val())-s.step;return(!a.isNumeric(u)||e>=u)&&(i.val(e),n(c,i,e,r,u)),!1})}if(s.incr_cell){var d=a(s.incr_cell,c);d.click(function(){var e=parseInt(i.val())+s.step;return(!a.isNumeric(r)||r>=e)&&(i.val(e),n(c,i,e,r,u)),!1})}}function l(e,i,l,t){i.keydown(function(a){var e=parseInt(a.keyCode);return e>=96&&105>=e||e>=48&&57>=e||8==e?!0:!1}).bind("paste",function(){var e=a(this).val();"0"!=e&&a(this).val(e.replace(/\D|^0/g,""))}).blur(function(){var c=a(this).val();c="0"!=c?parseInt(c.replace(/\D|^0/g,"")):0,a.isNumeric(l)&&c>l?c=l:a.isNumeric(t)&&t>c&&(c=t),a(this).val(c),n(e,i,c,l,t)}).css("imeMode","disabled").attr("autocomplete","off"),a.isNumeric(l)&&l.length>0&&i.attr("maxlength",l.length)}function n(e,i,l,n,c){if(t.minus_cell){var s=a(t.minus_cell,e);a.isNumeric(c)&&c>=l&&s.addClass(t.disable_calss),a.isNumeric(c)&&l>c&&s.removeClass(t.disable_calss)}if(t.incr_cell){var r=a(t.incr_cell,e);a.isNumeric(n)&&l>=n&&r.addClass(t.disable_calss),a.isNumeric(n)&&n>l&&r.removeClass(t.disable_calss)}t.callback&&t.callback(i,l)}var t=a.extend({},a.fn.numberInput.defaults,e);return this.each(function(){i(this)})},a.fn.numberInput.defaults={max_attr:"max",min_attr:"min",main_cell:"input",minus_cell:".minus",incr_cell:".incr",disable_calss:"disabled",callback:0,step:1}}(jQuery);